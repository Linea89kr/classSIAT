<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>

    /*
    * 생성자 함수
    *
    * 객체를 생성하기 위해 기존의 함수를 사용하여 객체를 재생성할 수 있도록 개량함
    * 기본 함수에 new 연산자를 붙여서 호출되는 형태로 호출하여 사용이 가능하다.
    * 형식: new [생성자 함수]
    * 생성자 함수 내에서 객체를 생성할 때 생성되는 프로퍼티를 정의할 수 있으며 어떤 형태든지 상관 없이 생성이 가능하다.
    * 이 때, 생성자 함수 내에 선언 될 프로퍼티는 this라는 키워드를 사용해 정의할 수 있으며 여기서 가리키는 this는 window라는 글로벌 오브젝트가 아닌 해당 생성자 함수를 활용하여 생성되는 객체를 가리키게 된다.
    * 여기서 생성되는 객체를 인스턴스라고 부르기도 하며 백엔드에서는 종종 사용되는 용어이다.
    * 생성자 함수 선언 시 생성자 함수 내에서는 prototype라는 속성에 객체를 가지고 있으며
    * 이 속성은 [[prototype]]와는 다른 생성자 함수에서 별도로 선언되는 프로퍼티이다.
    * 객체가 생성자 함수를 통해 생성될 때 해당 객체는 prototype로 위에서 이야기한
    생성자 함수의 prototype 객체를 [[prototype]]으로 가져오며 여기서 선언된 내용을
    해당 생성자 함수를 통해 만들어진 모든 객체가 공유하게 된다.
    * 이 prototype 객체 내의 this 또한 생성된 객체를 가리키며 객체 내의 프로퍼티에 접근할 시 prototype에 선언된 함수 내에서도 this 라는 키워드를 활용해 접근이 가능하다.
    * prototype 객체 내에 선언된 함수의 경우 모든 생성된 객체에서 공유되므로 불필요하게 반복되는 기능이나 속성을 줄일 수 있도록 가급적 반복되는 내용은 prototype 객체에 선언하는 편이 좋다.
    * 생성자를 통해 만들어진 객체는 자신을 생성한 곳이 누구인지를 알 수 있으며, prototype 내의 construction이라는 속성을 통해 자신이 만들어진 생성자 함수에 접근이 가능하다.
    * prototype 객체 내에서는 constructor를 통해 생성자 함수의 접근이 가능하고, 반대로 생성자 함수에서도 prototype 객체로 접근할 수 있는 프로퍼티가 존재한다. (서로 상호 참조)
    */


    function cons1(param1) {
        this.param1 = param1;
        // this.param2 = function () {
        //     console.log(`반갑습니다`)
        // }
    }

    cons1.prototype.param2 = function () {
        console.log(`반갑습니다.`)
        console.log(this.param1);
    }

    const obj1 = new cons1(`aaa`)
    const obj2 = new cons1(`bbb`)
    const obj3 = new cons1(`ccc`)
    console.dir(obj1)
    console.dir(obj2)
    console.dir(obj3)
    obj1.param2();
    obj2.param2();
    obj3.param2();
</script>

</html>