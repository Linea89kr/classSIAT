<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // 예외처리
    /*
    * 프로그램 상에서 프로그래머가 예측할 수 없는 상황에서 오류가 발생했을 시, 예를들어 통신상의 장애,
    * * 사용자들이 임의로 발생시킨 에러가 생겼을 경우 이를 예외라고 한다.
    * 프로그래머가 많은 예외를 예측할 수 없으며 이러한 에외 상황을 처리하기 위해 하는 것이 바로 예외처리이다.
    * 예외처리는 모든 프로그래밍 언어마다 예외처리하는 구문을 가지고 있으며
    * * 이를 통해 프로그래머는 예측할 수 없는 상황에 대한 예외처리를 할 수가 있다.
    * 
    * 예외처리 구문에 대한 이해
    * 예외처리하는 구문을 크게 3가지로 나눌 수 있다.
    * try: 예외가 발생할 수 있는 영역을 지정할 경우 사용하는 구문
    * catch: 예외가 발생했을 시 처리하는 영역
    * finally: 예외의 유무에 상관 없이 실행되는 구문, 로직의 안정성을 위해 사용되는 경우가 많다.
    * 형식: try(...)catch(e)(...)finally(...)
    * 
    * Error 클래스에 대한 이해
    * 자바 스크립트에서는 특정 에러를 처리하기 위해 자바스크립트 내에서 에러 클래스를 제공한다.
    * 가장 기본적인 클래스는 Error라는 클래스를 지원하며, 해당 클래스를 상속받은 클래스 또한 제공한다.
    * 가장 대표적인 예외 클래스들은 다음과 같다.
    * => RangeError: 숫자 변수나 매개변수가 유효 범위를 벗어났을 경우
    * => ReferenceError: 참조가 잘못되었을 경우
    * => SyntaxError: 오타, 혹은 구문에 대한 에러가 났을 경우
    * => TypeError: 변수나 매개변수가 유효한 자료형이 아닐 경우
    * 보통 많이 사용되는 에러는 ReferenceError로 해당 에러에 대한 처리만 된다면, 로직상 동작하는 데에 더는 큰 문제가 발생하지 않는다.
    * 
    * throw
    * 에러가 발생하지 않아도 에러를 강제 처리할 경우 쓰는 구문
    * throw 다음에 일반 문자열을 넣을 수도 있지만 보통은 위에서 선언한 error 클래스를 던지는 경우가 많다.
    * 이 성질을 활용해 기존의 error 클래스를 상속받은 커스텀 에러 클래스를 만들어 throw에 태워 catch문에서 공통 메서드를 실행하게 만드는 패턴들이 존재한다.
    * */



    class MyException extends Error {
        // 클래스로 예외가 발생했을 때 그 값을 해당 클래스로 태워서 지정할 수 있다.
        // 예외가 발생했을 때 앱 크래시가 안나게 하는 기법으로도 활용 가능
        constructor(str) {
            super(str);
        }
        myfixedException() {
            console.log(`햣하 예외다!`)
        }
    }
    const obj1 = {};
    try {
        alert(`안녕하세요!`)
        const arr = new MyException(`이것은 에러 문구 입니다.`)
        // arr.abc = { a: 123, b: `abc` };
        throw arr;
    } catch (e) {
        e.myfixedException();
        //     if (e instanceof ReferenceError) {
        //         // e에 ReferenceError라는 예외처리가 발생했다면
        //         // 우리는 다음과 같이 행동할게요.
        //         console.log(e.message)
        //         console.log(e.name)
        //         console.dir(e)
        //     } else if (e instanceof TypeError) {
        //         console.log(`하하하 타입 에러를 내다니! 비웃어 줘야지!`)
        //     } else {
        //         console.dir(e);
        //     }
        // } finally {

    }



</script>

</html>