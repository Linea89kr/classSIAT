<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    //Promise
    /*
    * - 기존 콜백의 단점을 보완하기 위해 ES6에서 제공하는 기능
    * - 비동기 로직을 강제 동기화 하기 위해 기존에 사용하던 콜백의 기능 대신 promise라는 클래스가 생김
    * - 콜백함수에서 처리되지 못한 예외나 에러처리가 가능하다는 점에서 상당히 유용하게 사용되는 기술형태
    * new Promise(function(resolve, reject){
    * --- 핵심 로직 ---
    * resolve or reject
    * })
    * Promise 실행 시 다음 then 메서드의 resolve 로직으로 들어가게 되며,
    * rejcet가 실행되거나 로직에 에러가 일어날 경우 reject 로직으로 들어가게 된다.
    * 보통 reject 로직을 사용하기 보다는 catch 메서드를 통해 로직의 예외를 처리하는 방식을 많이 사용한다.
    * 실제 Promise의 resolve를 통해 출력된 로직은 then을 통해 로직에 대한 체이닝을 걸 수 있지만,
    * 만약 해당 then에서 또 비동기 로직을 돌릴 경우 해당 then 안에 return을 반드시 promise로 리턴되어야 한다.
    * 단 로직이 비동기가 아니라 일반 로직의 경우굳이 Promise로 리턴할 필요가 없으며 일반적인 값을 리턴하여 넘겨도 상관은 없다.
    * */

    const pending = new Promise(function (resolve, reject) {
        setTimeout(function () {
            console.log(`첫번째 promise`)
            resolve("성공!")
        }, 3000)
    })
    pending.then(function (v) {
        setTimeout(function () {
            console.log(`전송된 값 : ${v}`)
            // resolve(`또 성공`)
        }, 3000)
    }, function (v) {
        console.log(`error`)
    }).then(function (v) {
        console.log(v)
    })

</script>
</html>